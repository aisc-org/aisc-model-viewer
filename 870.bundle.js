"use strict";(self.webpackChunkaisc_model_viewer=self.webpackChunkaisc_model_viewer||[]).push([[870,489],{1489:(e,t,n)=>{n.d(t,{qw:()=>s,Xs:()=>l});var i=n(22);n(2295),n(4231),n(5249),n(2601),new i.Q1f("#00558A"),new i.Q1f("#FF8200"),new i.Q1f("#FFFFFF"),new i.Q1f("#58595B"),new i.Q1f("#00746F"),new i.Q1f("#006C93"),new i.Q1f("#333333"),new i.Q1f("#F6F6F6"),new i.Q1f("#E0E0E0"),new i.Q1f("#CACACA"),new i.Q1f("#B6B6B6"),new i.Q1f("#000000");var o;!function(e){e[e.Landscape=0]="Landscape",e[e.Portrait=1]="Portrait"}(o||(o={}));class s{constructor(e){this.sidebarIsOpen=!0,this.contentSizingMode=o.Landscape,this.forceTrailingSlash=!0,this.defaultHTML="<p>Select an item from the sidebar.</p>",this.groups=e.groups,this.contributors=e.contributors,this.contentLinkMap=new Map,this.contentScrollState=new Map,this.contentContainer=document.getElementById("content-container"),document.getElementById("header-title").innerHTML=e.title;const t=document.getElementById("sidebar");e.groups.forEach(((n,i)=>{let o=document.createElement("section");o.id="sidebar.section."+n.name.replace(/\s/g,"_");let s=document.createElement("h2"),r=document.createElement("ul");s.innerHTML=n.name,o.appendChild(s),o.appendChild(r),null!=n.items&&n.items.forEach((e=>{r.appendChild(e.createItem()),this.contentLinkMap[e.linkname]=e})),t.appendChild(o),i!==e.groups.length-1&&t.appendChild(document.createElement("hr"))})),t.appendChild(document.createElement("hr"));const n=document.createElement("section");n.className="sidebar-footer",t.appendChild(n);const i=document.createElement("ul");if(n.appendChild(i),(e.addGuideLink||void 0===e.addGuideLink)&&i.appendChild(this.guideTo2dDrawingsLink()),void 0!==this.contributors&&0!==this.contributors.length){const e=this.contributorsContent(),t=new l({name:"credits",content:e});this.contentLinkMap[t.linkname]=t;const n=document.createElement("a");n.href="./#credits",n.innerHTML="credits";const o=document.createElement("li");o.appendChild(n),i.appendChild(o)}window.addEventListener("resize",this.updateDisplayMode.bind(this)),this.updateDisplayMode(),this.contentSizingMode===o.Portrait&&this.toggleSidebar(),document.getElementById("sidebar-toggle").onclick=this.toggleSidebar.bind(this),window.addEventListener("hashchange",this.setCurrentContent.bind(this)),this.setCurrentContent(),window.modelApp=this}updateDisplayMode(){window.innerWidth<window.innerHeight&&this.contentSizingMode===o.Landscape?(this.contentSizingMode=o.Portrait,this.sidebarIsOpen&&(this.contentContainer.style.width="100%")):window.innerWidth>window.innerHeight&&this.contentSizingMode===o.Portrait&&(this.contentSizingMode=o.Landscape,this.sidebarIsOpen&&(this.contentContainer.style.width="calc(100% - 250px)"))}toggleSidebar(){const e=document.getElementById("sidebar");this.sidebarIsOpen?(e.style.visibility="hidden",this.contentSizingMode===o.Landscape&&(this.contentContainer.style.width="100%")):(e.style.visibility="visible",this.contentSizingMode===o.Landscape&&(this.contentContainer.style.width="calc(100% - 250px)")),this.sidebarIsOpen=!this.sidebarIsOpen}setDefaultContent(){const e=document.createElement("section");e.className="html-content",e.innerHTML=this.defaultHTML,this.setContentElement(e)}contributorsContent(){var e;const t=document.createElement("section");t.className="html-content";const n=document.createElement("p");n.innerHTML="This collection was developed by:",t.appendChild(n);const i=document.createElement("ul");return null===(e=this.contributors)||void 0===e||e.forEach((e=>{const t=document.createElement("li");t.innerHTML=e,i.appendChild(t)})),t.appendChild(i),t.innerHTML}guideTo2dDrawingsLink(){return new a({name:"guide to 2d drawings",url:"../guide-to-2d-drawings/#Types-of-drawings",openInNewTab:!1}).createItem()}setContentElement(e){null!=this.currentElement&&this.contentContainer.removeChild(this.currentElement),this.currentElement=e,this.contentContainer.appendChild(this.currentElement),this.contentSizingMode===o.Portrait&&this.sidebarIsOpen&&this.toggleSidebar()}setCurrentContent(){const e=window.location;this.forceTrailingSlash&&!e.pathname.endsWith("/")&&window.location.replace(e.origin+e.pathname+"/"+e.hash);const t=window.location.hash.substr(1),n=this.contentLinkMap[this.currentContent],i=n?n.destroyContent:()=>Promise.resolve(),o=this.contentLinkMap[t];t in this.contentLinkMap?i().then((()=>o.createContent(this.contentContainer))).then((e=>{this.currentElement&&(console.log("Saving",this.currentContent,"scroll position as",this.contentContainer.scrollTop),this.contentScrollState[this.currentContent]=this.contentContainer.scrollTop),this.setContentElement(e),this.currentContent=t,console.log(t,"loaded;","The current scroll position is",this.contentContainer.scrollTop);const n=this.contentScrollState[t];n&&(console.log("Restoring",t,"to scroll position",n),this.contentContainer.scrollBy(n,n),console.log(t,"restored;","The current scroll position is",this.contentContainer.scrollTop))}),(e=>{e instanceof r||console.error(e)})):this.setDefaultContent()}}class r extends Error{}class c{constructor(e){this.name=e,this.linkname=e.replace(/\s/g,"-")}createContent(e){return Promise.reject(new r)}destroyContent(){return Promise.resolve()}}class a extends c{constructor(e){super(e.name),this.url=e.url,this.openInNewTab=e.openInNewTab}createItem(){const e=document.createElement("li"),t=document.createElement("a");return t.href=this.url,t.innerHTML=this.name,this.openInNewTab&&(t.target="_blank",t.rel="noreferrer noopener"),e.appendChild(t),e}}class l extends c{constructor(e){super(e.name),this.classes=["html-content"],this.content=e.content,e.classes&&this.classes.push(...e.classes)}createContent(e){return t=this,n=void 0,o=function*(){const e=document.createElement("section");return e.classList.add(...this.classes),e.innerHTML=this.content,void 0!==window.MathJax.typesetPromise&&(yield window.MathJax.typesetPromise([e])),Promise.resolve(e)},new((i=void 0)||(i=Promise))((function(e,s){function r(e){try{a(o.next(e))}catch(e){s(e)}}function c(e){try{a(o.throw(e))}catch(e){s(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(r,c)}a((o=o.apply(t,n||[])).next())}));var t,n,i,o}createItem(){const e=document.createElement("li"),t=document.createElement("a");return t.href=`#${this.linkname}`,t.innerHTML=this.name,e.appendChild(t),e}}}}]);
//# sourceMappingURL=870.bundle.js.map